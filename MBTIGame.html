<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI 성격 퀴즈</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 24px;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center">

    <div id="quiz-container" class="bg-white p-8 md:p-12 rounded-2xl shadow-xl w-full max-w-lg transition-all duration-300 transform scale-100 opacity-100">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8">MBTI 성격 퀴즈</h1>
        
        <div id="quiz-screen" class="space-y-6">
            <p id="question" class="text-lg md:text-xl text-center text-gray-700 font-medium"></p>
            <div id="options-container" class="flex flex-col gap-4">
                <!-- Buttons will be injected here by JavaScript -->
            </div>
            <button id="next-btn" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg shadow-md hover:bg-blue-600 transition-colors duration-200 focus:outline-none focus:ring-4 focus:ring-blue-300 opacity-0 pointer-events-none">
                다음 질문으로
            </button>
        </div>

        <div id="result-screen" class="hidden text-center">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">당신의 MBTI는...</h2>
            <div id="result-text" class="text-4xl md:text-5xl font-extrabold text-blue-600"></div>
            <div id="result-description" class="mt-4 text-gray-600 text-base md:text-lg leading-relaxed"></div>
            <button id="restart-btn" class="mt-8 w-full bg-gray-500 text-white font-bold py-3 rounded-lg shadow-md hover:bg-gray-600 transition-colors duration-200 focus:outline-none focus:ring-4 focus:ring-gray-300">
                다시 시작하기
            </button>
        </div>

    </div>

    <script>
        // Data for the quiz questions and options
        // Each question is an object with a question and an array of options.
        // The 'type' property is used to score the user's answers.
        const quizData = [
            {
                question: "주말 계획이 있다면?",
                options: [
                    { text: "친구들과 파티 (E)", type: "E" },
                    { text: "집에서 휴식 (I)", type: "I" }
                ]
            },
            {
                question: "새로운 프로젝트를 시작할 때, 무엇부터 시작하나요?",
                options: [
                    { text: "큰 그림부터 (N)", type: "N" },
                    { text: "구체적인 세부사항부터 (S)", type: "S" }
                ]
            },
            {
                question: "친구가 고민을 털어놓을 때, 어떻게 반응하나요?",
                options: [
                    { text: "객관적인 해결책을 제시한다 (T)", type: "T" },
                    { text: "감정적으로 공감한다 (F)", type: "F" }
                ]
            },
            {
                question: "여행을 계획할 때, 당신은?",
                options: [
                    { text: "계획을 철저히 세운다 (J)", type: "J" },
                    { text: "즉흥적으로 결정한다 (P)", type: "P" }
                ]
            },
            {
                question: "낯선 사람과 함께 엘리베이터에 탔을 때, 당신은?",
                options: [
                    { text: "먼저 말을 걸어본다 (E)", type: "E" },
                    { text: "조용히 있는다 (I)", type: "I" }
                ]
            },
            {
                question: "일을 할 때 당신의 방식은?",
                options: [
                    { text: "미래의 가능성을 상상한다 (N)", type: "N" },
                    { text: "현재의 사실에 집중한다 (S)", type: "S" }
                ]
            },
            {
                question: "상대방의 논리적인 오류를 발견했을 때, 어떻게 말하나요?",
                options: [
                    { text: "오류를 지적한다 (T)", type: "T" },
                    { text: "상대방의 기분을 먼저 생각한다 (F)", type: "F" }
                ]
            },
            {
                question: "평소에 물건을 정리하는 방식은?",
                options: [
                    { text: "정해진 위치에 깔끔하게 놓는다 (J)", type: "J" },
                    { text: "필요할 때 찾는다 (P)", type: "P" }
                ]
            }
        ];

        // Object mapping MBTI types to descriptions
        const mbtiDescriptions = {
            'ESTJ': "엄격한 관리자, 체계적이고 현실적입니다. 목표 달성을 위해 계획을 세우고 실행합니다.",
            'ESTP': "자유로운 활동가, 호기심이 많고 즉흥적입니다. 새로운 경험을 즐깁니다.",
            'ESFJ': "친절한 사교가, 타인을 배려하고 따뜻한 마음을 가졌습니다. 사람들과 어울리는 것을 좋아합니다.",
            'ESFP': "자유로운 연예인, 낙천적이고 유쾌합니다. 현재를 즐기며 자유롭게 행동합니다.",
            'ENTJ': "대담한 통솔자, 전략적이고 논리적입니다. 리더십이 뛰어나며 큰 그림을 그립니다.",
            'ENTP': "뜨거운 논쟁가, 재치 있고 독창적입니다. 다양한 아이디어를 탐구하며 토론을 즐깁니다.",
            'ENFJ': "정의로운 사회운동가, 사람들에게 영감을 주고 동기 부여를 합니다. 따뜻한 리더십을 가졌습니다.",
            'ENFP': "자유로운 영혼의 소유자, 열정적이고 창의적입니다. 가능성을 탐색하며 새로운 것을 시도합니다.",
            'ISTJ': "청렴한 관리자, 책임감이 강하고 현실적입니다. 신중하게 계획을 세우고 일을 마무리합니다.",
            'ISTP': "만능 재주꾼, 논리적이고 관찰력이 뛰어납니다. 실용적인 문제 해결을 즐깁니다.",
            'ISFJ': "다정한 수호자, 헌신적이고 따뜻합니다. 타인의 감정을 잘 읽고 배려합니다.",
            'ISFP': "호기심 많은 예술가, 온화하고 겸손합니다. 자신의 가치관을 중요하게 생각합니다.",
            'INTJ': "용의주도한 전략가, 분석적이고 독립적입니다. 복잡한 문제를 해결하는 것을 좋아합니다.",
            'INTP': "논리적인 사색가, 지적 호기심이 많고 독창적입니다. 복잡한 이론을 탐구합니다.",
            'INFJ': "선의의 옹호자, 깊이 있고 통찰력이 뛰어납니다. 타인의 성장에 헌신합니다.",
            'INFP': "열정적인 중재자, 이상적이고 창의적입니다. 자신의 가치에 따라 행동합니다."
        };

        // DOM elements
        const questionEl = document.getElementById('question');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const resultScreen = document.getElementById('result-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultText = document.getElementById('result-text');
        const resultDescription = document.getElementById('result-description');
        const restartBtn = document.getElementById('restart-btn');

        // Game state variables
        let currentQuestionIndex = 0;
        let scores = {
            'E': 0, 'I': 0,
            'N': 0, 'S': 0,
            'T': 0, 'F': 0,
            'J': 0, 'P': 0
        };

        // Function to load the current question and options
        function loadQuestion() {
            // Check if there are more questions
            if (currentQuestionIndex < quizData.length) {
                const currentQuestion = quizData[currentQuestionIndex];
                questionEl.textContent = currentQuestion.question;
                optionsContainer.innerHTML = '';
                nextBtn.classList.add('opacity-0', 'pointer-events-none');
                
                // Create buttons for each option
                currentQuestion.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option.text;
                    button.dataset.type = option.type;
                    button.classList.add('option-btn', 'bg-gray-200', 'text-gray-800', 'font-medium', 'py-4', 'rounded-xl', 'shadow-sm', 'hover:bg-gray-300', 'transition-colors', 'duration-200');
                    button.addEventListener('click', handleAnswer);
                    optionsContainer.appendChild(button);
                });
            } else {
                showResult();
            }
        }

        // Function to handle a user's answer
        function handleAnswer(event) {
            const selectedBtn = event.target;
            const type = selectedBtn.dataset.type;

            // Increment the score for the selected type
            scores[type]++;

            // Visually select the button and disable all others
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('bg-gray-200', 'hover:bg-gray-300');
                btn.classList.add('bg-gray-400', 'text-white', 'cursor-not-allowed', 'opacity-50');
                btn.disabled = true;
            });
            selectedBtn.classList.remove('bg-gray-400', 'opacity-50', 'text-white');
            selectedBtn.classList.add('bg-blue-500', 'text-white', 'shadow-lg');

            // Show the next button with a transition
            nextBtn.classList.remove('opacity-0', 'pointer-events-none');
        }

        // Function to show the final result
        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            // Calculate the final MBTI type
            let mbtiType = '';
            mbtiType += scores['E'] >= scores['I'] ? 'E' : 'I';
            mbtiType += scores['N'] >= scores['S'] ? 'N' : 'S';
            mbtiType += scores['T'] >= scores['F'] ? 'T' : 'F';
            mbtiType += scores['J'] >= scores['P'] ? 'J' : 'P';
            
            // Display the result and its description
            resultText.textContent = mbtiType;
            resultDescription.textContent = mbtiDescriptions[mbtiType] || "결과를 찾을 수 없습니다.";
        }

        // Function to restart the quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            scores = { 'E': 0, 'I': 0, 'N': 0, 'S': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0 };
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            loadQuestion();
        }

        // Event listeners for navigation
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            loadQuestion();
        });

        restartBtn.addEventListener('click', restartQuiz);

        // Initial load of the first question
        loadQuestion();
    </script>

</body>
</html>
